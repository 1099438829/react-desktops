{"ast":null,"code":"import _classCallCheck from \"/Users/linjiajun/Desktop/htdoc/web/react-desktops/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/linjiajun/Desktop/htdoc/web/react-desktops/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/linjiajun/Desktop/htdoc/web/react-desktops/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/linjiajun/Desktop/htdoc/web/react-desktops/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/linjiajun/Desktop/htdoc/web/react-desktops/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/linjiajun/Desktop/htdoc/web/react-desktops/src/mac/pages/Home/HomeMac.js\";\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { View } from 'react-desktop';\nimport { actionCreators } from './store/index';\nimport desktopImage from \"../../../public/images/home/desktop-1.jpg\";\nimport \"../../../public/style/mac/index.scss\";\nimport WindowsMac from \"../../../components/windows/WindowsMac\";\nimport NavMenuMac from \"../../../components/menu/NavMenuMac\";\nimport DateComponent from \"../../../components/block/DateComponent\";\nimport Iframe from \"../../../components/block/Iframe\";\n\nvar HomeMac =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HomeMac, _Component);\n\n  function HomeMac(props) {\n    var _this;\n\n    _classCallCheck(this, HomeMac);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HomeMac).call(this, props));\n\n    window.onmouseup = function (e) {\n      return _this.props.mouseClick(e, _this.props.isEnterMenu, _this.props.isEnterMenuNav, _this.props.openMenuNav);\n    };\n\n    return _this;\n  }\n\n  _createClass(HomeMac, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          homeNav = _this$props.homeNav,\n          tools = _this$props.tools,\n          openWindowList = _this$props.openWindowList,\n          setWindowOpenList = _this$props.setWindowOpenList,\n          menuNav = _this$props.menuNav,\n          isEnterMenu = _this$props.isEnterMenu,\n          isEnterMenuNav = _this$props.isEnterMenuNav,\n          openMenuNav = _this$props.openMenuNav,\n          handleOpenNav = _this$props.handleOpenNav,\n          mouseEnterMenuNav = _this$props.mouseEnterMenuNav,\n          mouseLeaveMenuNav = _this$props.mouseLeaveMenuNav;\n      return React.createElement(View, {\n        width: \"100%\",\n        height: \"100%\",\n        layout: \"vertical\",\n        background: \"url(\" + desktopImage + \") no-repeat center center / cover\",\n        style: {\n          backgroundSize: 'cover'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }, React.createElement(View, {\n        width: \"100%\",\n        background: \"#1D2841\",\n        padding: \"0px 10px\",\n        layout: \"horizontal\",\n        style: {\n          color: \"#fff\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, React.createElement(View, {\n        width: \"60%\",\n        height: \"26px\",\n        layout: \"horizontal\",\n        horizontalAlignment: \"left\",\n        className: \"mac_home_menu_left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(View, {\n        className: \"mac_home_menu_logo\",\n        onClick: function onClick(e) {\n          handleOpenNav(e, homeNav, 'home');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"iconfont\",\n        dangerouslySetInnerHTML: {\n          __html: homeNav.name\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      })), React.createElement(View, {\n        layout: \"horizontal\",\n        horizontalAlignment: \"left\",\n        className: \"mac_home_menu_left_nav\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"dl\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, menuNav.map(function (row, i) {\n        return React.createElement(Fragment, {\n          key: row.type,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, i === 0 ? React.createElement(\"dt\", {\n          className: row.type === openMenuNav.type ? \"active\" : \"\",\n          onClick: function onClick(e) {\n            handleOpenNav(e, row);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, row.name) : React.createElement(\"dd\", {\n          className: row.type === openMenuNav.type ? \"active\" : \"\",\n          onClick: function onClick(e) {\n            handleOpenNav(e, row);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, row.name));\n      }))), (isEnterMenu || isEnterMenuNav) && React.createElement(NavMenuMac, {\n        style: openMenuNav.style,\n        dataList: openMenuNav.nav,\n        mouseEnter: mouseEnterMenuNav,\n        mouseLeavel: mouseLeaveMenuNav,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      })), React.createElement(View, {\n        width: \"40%\",\n        height: \"26px\",\n        layout: \"horizontal\",\n        horizontalAlignment: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(View, {\n        padding: \"0 8px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(DateComponent, {\n        setDataTime: this.props.setDataTime,\n        dataTime: this.props.dataTime,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      })), React.createElement(View, {\n        padding: \"3px 8px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"iconfont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"\\uE602\")), React.createElement(View, {\n        padding: \"3px 8px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"iconfont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"\\uE614\")))), React.createElement(View, {\n        width: \"100%\",\n        height: \"100%\",\n        style: {\n          overflow: 'hidden',\n          background: 'inherit'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(View, {\n        layout: \"vertical\",\n        verticalAlignment: \"center\",\n        height: \"auto\",\n        className: \"mac_home_tools\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"mac_home_tools_navs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, tools.map(function (row) {\n        return React.createElement(View, {\n          onClick: function onClick() {\n            setWindowOpenList(row, openWindowList);\n          },\n          key: row.type,\n          className: openWindowList.find(function (list) {\n            return list.type === row.type;\n          }) ? \"mac_home_tools_nav active\" : \"mac_home_tools_nav\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          width: 50,\n          height: 45,\n          src: row.logo,\n          alt: row.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }));\n      })))), React.createElement(View, {\n        width: \"100%\",\n        height: \"100%\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      })), openWindowList.map(function (row) {\n        return React.createElement(WindowsMac, {\n          id: row.type,\n          key: row.type,\n          window: row,\n          zIndex: row.zIndex,\n          openWindowList: openWindowList,\n          setWindowIndex: _this2.props.setWindowOpenList,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, row.isIframe && React.createElement(Iframe, {\n          title: row.type,\n          frameBorder: 0,\n          style: {\n            background: '#fff'\n          },\n          width: \"100%\",\n          src: row.url,\n          isLoad: row.isLoad,\n          onLoad: function onLoad() {\n            _this2.props.loadWindow(row, openWindowList);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }));\n      }));\n    }\n  }]);\n\n  return HomeMac;\n}(Component);\n\nvar initMapStateToProps = function initMapStateToProps(state) {\n  return {\n    homeNav: state.getIn(['homeMac', 'homeNav']).toJS(),\n    openWindowList: state.getIn(['homeMac', 'openWindowList']).toJS(),\n    tools: state.getIn(['homeMac', 'tools']).toJS(),\n    menuNav: state.getIn(['homeMac', 'menuNav']).toJS(),\n    openMenuNav: state.getIn(['homeMac', 'openMenuNav']).toJS(),\n    isEnterMenuNav: state.getIn(['homeMac', 'isEnterMenuNav']),\n    isEnterMenu: state.getIn(['homeMac', 'isEnterMenu']),\n    dataTime: state.getIn(['homeMac', 'dataTime']).toJS()\n  };\n};\n\nvar initMapDispatchToProps = function initMapDispatchToProps(dispatch) {\n  return {\n    /*\n     * 添加或显示窗口列表\n     */\n    setWindowOpenList: function setWindowOpenList(window, openWindowList) {\n      dispatch(actionCreators.setWindowOpenList(window, openWindowList));\n    },\n\n    /*\n     * 窗口读取完成\n     */\n    loadWindow: function loadWindow(window, openWindowList) {\n      dispatch(actionCreators.loadWindow(window, openWindowList));\n    },\n\n    /*\n     * 访问菜单\n     */\n    handleOpenNav: function handleOpenNav(e, menuNav) {\n      var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'nav';\n      e.preventDefault();\n      dispatch(actionCreators.handleOpenNav(e, menuNav, type));\n    },\n\n    /*\n     * 鼠标进入菜单栏\n     */\n    mouseEnterMenuNav: function mouseEnterMenuNav() {\n      dispatch(actionCreators.mouseEnterMenuNav());\n    },\n\n    /*\n     * 鼠标离开菜单选择栏\n     */\n    mouseLeaveMenuNav: function mouseLeaveMenuNav() {\n      dispatch(actionCreators.mouseLeavelMenuNav());\n    },\n\n    /*\n     * 鼠标点击\n     */\n    mouseClick: function mouseClick(e, isEnterMenu, isEnterMenuNav, openMenuNav) {\n      e.preventDefault();\n\n      if (isEnterMenu && !isEnterMenuNav) {\n        dispatch(actionCreators.clearMenuNav());\n      }\n\n      if (!isEnterMenu && !isEnterMenuNav && Object.keys(openMenuNav).length > 0) {\n        dispatch(actionCreators.clearMenuNav());\n      }\n    },\n\n    /*\n     * 设置日期\n     * @param Object dataTime 时间对象 {year:'0000',month:'00',day:'00',hour:'00',minute:'00',week:''}\n     */\n    setDataTime: function setDataTime(dataTime) {\n      dispatch(actionCreators.setDateTime(dataTime));\n    }\n  };\n};\n\nexport default connect(initMapStateToProps, initMapDispatchToProps)(HomeMac);","map":{"version":3,"sources":["/Users/linjiajun/Desktop/htdoc/web/react-desktops/src/mac/pages/Home/HomeMac.js"],"names":["React","Component","Fragment","connect","View","actionCreators","desktopImage","WindowsMac","NavMenuMac","DateComponent","Iframe","HomeMac","props","window","onmouseup","e","mouseClick","isEnterMenu","isEnterMenuNav","openMenuNav","homeNav","tools","openWindowList","setWindowOpenList","menuNav","handleOpenNav","mouseEnterMenuNav","mouseLeaveMenuNav","backgroundSize","color","__html","name","map","row","i","type","style","nav","setDataTime","dataTime","overflow","background","find","list","logo","zIndex","isIframe","url","isLoad","loadWindow","initMapStateToProps","state","getIn","toJS","initMapDispatchToProps","dispatch","preventDefault","mouseLeavelMenuNav","clearMenuNav","Object","keys","length","setDateTime"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react'\nimport { connect } from 'react-redux'\nimport { View } from 'react-desktop'\nimport { actionCreators } from './store/index'\nimport desktopImage from \"../../../public/images/home/desktop-1.jpg\"\n\nimport \"../../../public/style/mac/index.scss\"\nimport WindowsMac from \"../../../components/windows/WindowsMac\"\nimport NavMenuMac from \"../../../components/menu/NavMenuMac\";\nimport DateComponent from \"../../../components/block/DateComponent\";\nimport Iframe from \"../../../components/block/Iframe\";\n\nclass HomeMac extends Component {\n  constructor(props){\n    super(props)\n    window.onmouseup = (e) => this.props.mouseClick(e,this.props.isEnterMenu,this.props.isEnterMenuNav,this.props.openMenuNav)\n  }\n  render() {\n    const {\n      homeNav,tools,openWindowList,setWindowOpenList,menuNav,isEnterMenu,isEnterMenuNav,openMenuNav,\n      handleOpenNav,mouseEnterMenuNav,mouseLeaveMenuNav\n    } = this.props\n    return (\n      <View\n        width=\"100%\"\n        height=\"100%\"\n        layout=\"vertical\"\n        background={\"url(\"+desktopImage+\") no-repeat center center / cover\"}\n        style={{backgroundSize:'cover'}}\n      >\n        <View\n          width=\"100%\"\n          background=\"#1D2841\"\n          padding=\"0px 10px\"\n          layout=\"horizontal\"\n          style={{color:\"#fff\"}}\n        >\n          <View\n            width=\"60%\"\n            height=\"26px\"\n            layout=\"horizontal\"\n            horizontalAlignment=\"left\"\n            className=\"mac_home_menu_left\"\n          >\n            <View\n              className=\"mac_home_menu_logo\"\n              onClick={(e)=>{handleOpenNav(e,homeNav,'home')}}\n            >\n              <i className=\"iconfont\"\n                 dangerouslySetInnerHTML={{__html: homeNav.name}}\n              />\n            </View>\n            <View\n              layout=\"horizontal\"\n              horizontalAlignment=\"left\"\n              className=\"mac_home_menu_left_nav\"\n            >\n              <dl\n              >\n                {menuNav.map((row, i) => (\n                  <Fragment key={row.type}>\n                    {i === 0 ?\n                      <dt\n                        className={row.type === openMenuNav.type ? \"active\" : \"\"}\n                        onClick={(e)=>{handleOpenNav(e,row)}}\n                      >\n                        {row.name}\n                      </dt>\n                      :\n                      <dd\n                        className={row.type === openMenuNav.type ? \"active\" : \"\"}\n                        onClick={(e)=>{handleOpenNav(e,row)}}\n                      >\n                        {row.name}\n                      </dd>\n                    }\n                  </Fragment>\n                ))\n                }\n              </dl>\n            </View>\n            {(isEnterMenu || isEnterMenuNav) &&\n            <NavMenuMac\n              style={openMenuNav.style}\n              dataList={openMenuNav.nav}\n              mouseEnter={mouseEnterMenuNav}\n              mouseLeavel={mouseLeaveMenuNav}\n            />\n            }\n          </View>\n          <View\n            width=\"40%\"\n            height=\"26px\"\n            layout=\"horizontal\"\n            horizontalAlignment=\"right\"\n          >\n            <View\n              padding=\"0 8px\"\n            >\n              <DateComponent setDataTime={this.props.setDataTime} dataTime={this.props.dataTime}/>\n            </View>\n            <View\n              padding=\"3px 8px\"\n            >\n              <i className=\"iconfont\">&#xe602;</i>\n            </View>\n            <View\n              padding=\"3px 8px\"\n            >\n              <i className=\"iconfont\">&#xe614;</i>\n            </View>\n          </View>\n        </View>\n        <View\n          width=\"100%\"\n          height=\"100%\"\n          style={{overflow:'hidden',background:'inherit'}}\n        >\n          <View\n              layout=\"vertical\"\n              verticalAlignment=\"center\"\n              height=\"auto\"\n              className=\"mac_home_tools\"\n          >\n            <View>\n              <span\n                className=\"mac_home_tools_navs\"\n              >\n                {tools.map((row)=>(\n                  <View\n                    onClick={()=>{setWindowOpenList(row,openWindowList)}}\n                    key={row.type}\n                    className={openWindowList.find(list=>(list.type===row.type)) ? \"mac_home_tools_nav active\" : \"mac_home_tools_nav\"}\n                  >\n                    <img width={50} height={45} src={row.logo} alt={row.name}/>\n                  </View>\n                ))}\n              </span>\n            </View>\n          </View>\n          <View\n            width=\"100%\"\n            height=\"100%\"\n          >\n\n          </View>\n        </View>\n        {openWindowList.map((row)=>(\n          <WindowsMac\n            id={row.type}\n            key={row.type}\n            window={row}\n            zIndex={row.zIndex}\n            openWindowList={openWindowList}\n            setWindowIndex={this.props.setWindowOpenList}\n          >\n            {row.isIframe &&\n            <Iframe title={row.type} frameBorder={0} style={{background:'#fff'}} width=\"100%\" src={row.url} isLoad={row.isLoad} onLoad={()=>{this.props.loadWindow(row,openWindowList)}}/>\n            }\n          </WindowsMac>\n        ))}\n\n      </View>\n    )\n  }\n\n}\n\n\n\n\n\n\nconst initMapStateToProps = (state) => ({\n  homeNav:state.getIn(['homeMac','homeNav']).toJS(),\n  openWindowList: state.getIn(['homeMac','openWindowList']).toJS(),\n  tools:state.getIn(['homeMac','tools']).toJS(),\n  menuNav:state.getIn(['homeMac','menuNav']).toJS(),\n  openMenuNav:state.getIn(['homeMac','openMenuNav']).toJS(),\n  isEnterMenuNav:state.getIn(['homeMac','isEnterMenuNav']),\n  isEnterMenu:state.getIn(['homeMac','isEnterMenu']),\n  dataTime:state.getIn(['homeMac','dataTime']).toJS()\n})\n\nconst initMapDispatchToProps = (dispatch) => ({\n  /*\n   * 添加或显示窗口列表\n   */\n  setWindowOpenList(window,openWindowList){\n    dispatch(actionCreators.setWindowOpenList(window,openWindowList))\n  },\n  /*\n   * 窗口读取完成\n   */\n  loadWindow(window,openWindowList){\n    dispatch(actionCreators.loadWindow(window,openWindowList))\n  },\n  /*\n   * 访问菜单\n   */\n  handleOpenNav(e,menuNav,type='nav'){\n    e.preventDefault()\n    dispatch(actionCreators.handleOpenNav(e,menuNav,type))\n  },\n  /*\n   * 鼠标进入菜单栏\n   */\n  mouseEnterMenuNav(){\n    dispatch(actionCreators.mouseEnterMenuNav())\n  },\n  /*\n   * 鼠标离开菜单选择栏\n   */\n  mouseLeaveMenuNav(){\n    dispatch(actionCreators.mouseLeavelMenuNav())\n  },\n  /*\n   * 鼠标点击\n   */\n  mouseClick(e,isEnterMenu,isEnterMenuNav,openMenuNav){\n    e.preventDefault()\n    if(isEnterMenu && !isEnterMenuNav){\n      dispatch(actionCreators.clearMenuNav())\n    }\n    if(!isEnterMenu && !isEnterMenuNav && Object.keys(openMenuNav).length>0){\n      dispatch(actionCreators.clearMenuNav())\n    }\n  },\n  /*\n   * 设置日期\n   * @param Object dataTime 时间对象 {year:'0000',month:'00',day:'00',hour:'00',minute:'00',week:''}\n   */\n  setDataTime(dataTime){\n    dispatch(actionCreators.setDateTime(dataTime))\n  }\n})\n\nexport default connect(initMapStateToProps,initMapDispatchToProps)(HomeMac)"]},"metadata":{},"sourceType":"module"}