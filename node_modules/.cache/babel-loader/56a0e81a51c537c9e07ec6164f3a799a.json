{"ast":null,"code":"import _classCallCheck from \"/Users/linjiajun/Desktop/htdoc/web/react-desktops/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/linjiajun/Desktop/htdoc/web/react-desktops/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/linjiajun/Desktop/htdoc/web/react-desktops/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/linjiajun/Desktop/htdoc/web/react-desktops/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/linjiajun/Desktop/htdoc/web/react-desktops/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/linjiajun/Desktop/htdoc/web/react-desktops/src/components/block/DateComponent.js\";\nimport React, { Component, Fragment } from 'react';\n\nvar DateComponent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DateComponent, _Component);\n\n  function DateComponent() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, DateComponent);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(DateComponent)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.getDate = function () {\n      var _this$props = _this.props,\n          dataTime = _this$props.dataTime,\n          setDataTime = _this$props.setDataTime;\n      var date = new Date();\n      var year = date.getFullYear();\n      var month = date.getMonth() + 1; // 获取当前月份\n\n      var day = date.getDate(); // 获取当前是几号\n\n      var weekIndex = date.getDay(); //获取当前星期X(0-6,0代表星期天)\n\n      var hour = date.getHours(); //小时\n\n      var minute = date.getMinutes(); //分钟\n      // let second = date.getSeconds() //秒\n\n      var week_arr = ['日', '一', '二', '三', '四', '五', '六'];\n\n      if (month <= 9) {\n        month = '0' + month;\n      }\n\n      if (day <= 9) {\n        day = '0' + day;\n      }\n\n      if (hour <= 9) {\n        hour = '0' + hour;\n      }\n\n      if (minute <= 9) {\n        minute = '0' + minute;\n      }\n\n      if (dataTime.minute !== minute || dataTime.hour !== hour || dataTime.day !== day) {\n        var week = week_arr[weekIndex];\n        var time = {\n          year: year,\n          month: month,\n          day: day,\n          hour: hour,\n          minute: minute,\n          week: week\n        };\n        setDataTime(time);\n      }\n\n      setTimeout(_this.getDate, 1000);\n    };\n\n    return _this;\n  }\n\n  _createClass(DateComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getDate();\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(newProps) {\n      if (newProps.dataTime !== this.props.dataTime) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props$dataTime = this.props.dataTime,\n          year = _this$props$dataTime.year,\n          month = _this$props$dataTime.month,\n          day = _this$props$dataTime.day,\n          hour = _this$props$dataTime.hour,\n          minute = _this$props$dataTime.minute,\n          week = _this$props$dataTime.week;\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17\n        },\n        __self: this\n      }, this.props.type === 'win' ? React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20\n        },\n        __self: this\n      }, \"\".concat(hour, \":\").concat(minute, \" \\u5468\").concat(week)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }, \"\".concat(year, \"/\").concat(month, \"/\").concat(day))) : React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, \"\".concat(year, \"/\").concat(month, \"/\").concat(day, \" \").concat(hour, \":\").concat(minute, \" \\u5468\").concat(week)));\n    }\n  }]);\n\n  return DateComponent;\n}(Component);\n\nexport default DateComponent;","map":{"version":3,"sources":["/Users/linjiajun/Desktop/htdoc/web/react-desktops/src/components/block/DateComponent.js"],"names":["React","Component","Fragment","DateComponent","getDate","props","dataTime","setDataTime","date","Date","year","getFullYear","month","getMonth","day","weekIndex","getDay","hour","getHours","minute","getMinutes","week_arr","week","time","setTimeout","newProps","type"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react'\n\nclass DateComponent extends Component {\n  componentDidMount(){\n    this.getDate()\n\n  }\n  shouldComponentUpdate(newProps) {\n    if(newProps.dataTime!==this.props.dataTime){\n      return true\n    }\n    return false\n  }\n  render() {\n    const { year,month,day,hour,minute,week } = this.props.dataTime\n    return (\n      <Fragment>\n        { this.props.type === 'win' ?\n          <Fragment>\n            <div>\n              {`${hour}:${minute} 周${week}`}\n            </div>\n            <div>\n              {`${year}/${month}/${day}`}\n            </div>\n          </Fragment>\n          :\n          <Fragment>{`${year}/${month}/${day} ${hour}:${minute} 周${week}`}</Fragment>\n        }\n      </Fragment>\n    )\n  }\n\n  getDate = () => {\n    const { dataTime,setDataTime } = this.props\n    const date = new Date()\n    const year = date.getFullYear()\n    let month = date.getMonth() + 1 // 获取当前月份\n    let day = date.getDate() // 获取当前是几号\n    const weekIndex = date.getDay() //获取当前星期X(0-6,0代表星期天)\n    let hour = date.getHours() //小时\n    let minute = date.getMinutes() //分钟\n    // let second = date.getSeconds() //秒\n    const week_arr = ['日','一','二','三','四','五','六']\n    if(month<=9){\n      month = '0'+ month\n    }\n    if(day<=9){\n      day = '0' + day\n    }\n    if(hour<=9){\n      hour = '0' + hour\n    }\n    if(minute<=9){\n      minute = '0' + minute\n    }\n    if(dataTime.minute !== minute || dataTime.hour !== hour || dataTime.day !== day){\n      const week = week_arr[weekIndex]\n      const time = {\n        year,\n        month,\n        day,\n        hour,\n        minute,\n        week\n      }\n      setDataTime(time)\n    }\n    setTimeout(this.getDate,1000)\n  }\n}\n\n\nexport default DateComponent"]},"metadata":{},"sourceType":"module"}