{"ast":null,"code":"import _classCallCheck from \"/Users/linjiajun/Desktop/htdoc/web/react-desktops/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/linjiajun/Desktop/htdoc/web/react-desktops/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/linjiajun/Desktop/htdoc/web/react-desktops/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/linjiajun/Desktop/htdoc/web/react-desktops/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/linjiajun/Desktop/htdoc/web/react-desktops/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/linjiajun/Desktop/htdoc/web/react-desktops/src/components/layout/LeftnavRightContent.js\";\nimport React, { Component } from 'react';\nimport { View } from 'react-desktop';\nimport { calc_empty_list } from \"../../public/utils/com\";\n\nvar LeftnavRightContent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LeftnavRightContent, _Component);\n\n  function LeftnavRightContent(props) {\n    var _this;\n\n    _classCallCheck(this, LeftnavRightContent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LeftnavRightContent).call(this, props));\n    _this.state = {};\n\n    _this.mouseMoveDown = function (e) {\n      e.stopPropagation(); //防止事件冒泡\n\n      _this.layoutLeftWidth = _this.layoutLeft.offsetWidth;\n      _this.layoutRightWidth = _this.layoutRight.offsetWidth;\n      _this.moveStartX = e.clientX;\n      _this.moving = true;\n      window.addEventListener('mousemove', _this.moveLayoutLeftRightWidth);\n    };\n\n    _this.moveLayoutLeftRightWidth = function (e) {\n      e.stopPropagation();\n\n      if (_this.moving) {\n        var moveEndX = e.clientX;\n        var LeftWidth = _this.layoutLeftWidth + (moveEndX - _this.moveStartX);\n        var RightWidth = _this.layoutRightWidth - (moveEndX - _this.moveStartX);\n\n        if (LeftWidth > 180 && RightWidth > 200) {\n          var list = calc_empty_list(RightWidth, 90, _this.props.fileLists.length, _this.props.emptyLists.length);\n\n          if (list) {\n            _this.props.emptyList(list);\n          }\n\n          _this.layoutLeft.style.width = LeftWidth + 'px';\n          _this.layoutRight.style.width = \"calc(100% - \".concat(LeftWidth + 8, \"px)\");\n        }\n      }\n    };\n\n    _this.mouseMoveUp = function () {\n      _this.moving = false;\n      _this.moveStartX = null;\n      _this.layoutLeftWidth = null;\n      _this.layoutRightWidth = null;\n      window.removeEventListener('mousemove', _this.moveLayoutLeftRightWidth);\n    };\n\n    _this.moving = false;\n    return _this;\n  }\n\n  _createClass(LeftnavRightContent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener('mouseup', this.mouseMoveUp);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('mouseup', this.mouseMoveUp);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var borderDivStyle = {\n        cursor: 'col-resize',\n        padding: '0 3px'\n      };\n      var borderCenter = {};\n\n      if (this.props.borderCenter) {\n        borderCenter.background = this.props.borderCenter;\n      }\n\n      var leftStyle = {\n        width: '250px',\n        background: '#fff'\n      };\n      var rightStyle = {\n        width: 'calc(100% - 258px)',\n        background: '#F0F2F5',\n        overflowX: 'scroll',\n        overflowY: 'hidden'\n      };\n      return React.createElement(View, {\n        width: \"100%\",\n        layout: \"horizontal\",\n        horizontalAlignment: \"left\",\n        height: \"100%\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: 'layoutLeft',\n        ref: function ref(layoutLeft) {\n          return _this2.layoutLeft = layoutLeft;\n        },\n        style: leftStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, this.props.children.find(function (row) {\n        return row.type === 'nav';\n      })), React.createElement(View, {\n        heigtht: \"100%\",\n        style: borderDivStyle,\n        onMouseDown: this.mouseMoveDown,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(View, {\n        width: \"2\",\n        style: borderCenter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        id: 'layoutRight',\n        ref: function ref(layoutRight) {\n          return _this2.layoutRight = layoutRight;\n        },\n        style: rightStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, this.props.children.find(function (row) {\n        return row.type === 'main';\n      })));\n    }\n    /*\n     * 鼠标点击移动开始\n     */\n\n  }]);\n\n  return LeftnavRightContent;\n}(Component);\n\nexport default LeftnavRightContent;","map":{"version":3,"sources":["/Users/linjiajun/Desktop/htdoc/web/react-desktops/src/components/layout/LeftnavRightContent.js"],"names":["React","Component","View","calc_empty_list","LeftnavRightContent","props","state","mouseMoveDown","e","stopPropagation","layoutLeftWidth","layoutLeft","offsetWidth","layoutRightWidth","layoutRight","moveStartX","clientX","moving","window","addEventListener","moveLayoutLeftRightWidth","moveEndX","LeftWidth","RightWidth","list","fileLists","length","emptyLists","emptyList","style","width","mouseMoveUp","removeEventListener","borderDivStyle","cursor","padding","borderCenter","background","leftStyle","rightStyle","overflowX","overflowY","children","find","row","type"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport { View } from 'react-desktop'\nimport {calc_empty_list} from \"../../public/utils/com\";\nclass LeftnavRightContent extends Component {\n  constructor(props){\n    super(props)\n    this.moving = false\n  }\n  state = {}\n  componentDidMount(){\n    window.addEventListener('mouseup',this.mouseMoveUp)\n  }\n  componentWillUnmount() {\n    window.removeEventListener('mouseup',this.mouseMoveUp)\n  }\n  render() {\n    const borderDivStyle={\n      cursor:'col-resize',\n      padding:'0 3px'\n    }\n    const borderCenter = {}\n    if(this.props.borderCenter){\n      borderCenter.background=this.props.borderCenter\n    }\n    const leftStyle={\n      width:'250px',\n      background:'#fff'\n    }\n    const rightStyle={\n      width:'calc(100% - 258px)',\n      background:'#F0F2F5',\n      overflowX: 'scroll',\n      overflowY: 'hidden'\n    }\n    return (\n      <View\n        width=\"100%\"\n        layout=\"horizontal\"\n        horizontalAlignment=\"left\"\n        height=\"100%\"\n      >\n        <div id={'layoutLeft'} ref={layoutLeft => this.layoutLeft=layoutLeft} style={leftStyle}>\n          {this.props.children.find((row) => (\n            row.type === 'nav'\n          ))}\n        </div>\n        <View\n          heigtht=\"100%\"\n          style={borderDivStyle}\n          onMouseDown={this.mouseMoveDown}\n        >\n          <View width=\"2\" style={borderCenter}/>\n        </View>\n        <div id={'layoutRight'} ref={layoutRight => this.layoutRight=layoutRight} style={rightStyle}>\n          {this.props.children.find((row) => (\n            row.type === 'main'\n          ))}\n        </div>\n      </View>\n    )\n  }\n  /*\n   * 鼠标点击移动开始\n   */\n  mouseMoveDown = (e) => {\n    e.stopPropagation() //防止事件冒泡\n    this.layoutLeftWidth = this.layoutLeft.offsetWidth\n    this.layoutRightWidth = this.layoutRight.offsetWidth\n    this.moveStartX = e.clientX\n    this.moving = true\n    window.addEventListener('mousemove',this.moveLayoutLeftRightWidth)\n  }\n  moveLayoutLeftRightWidth = (e) => {\n    e.stopPropagation()\n    if(this.moving){\n      const moveEndX = e.clientX\n      const LeftWidth = this.layoutLeftWidth + (moveEndX - this.moveStartX)\n      const RightWidth = this.layoutRightWidth - (moveEndX - this.moveStartX)\n      if(LeftWidth>180 && RightWidth>200){\n        const list = calc_empty_list(RightWidth,90,this.props.fileLists.length,this.props.emptyLists.length)\n        if(list) {\n          this.props.emptyList(list)\n        }\n        this.layoutLeft.style.width = LeftWidth + 'px'\n        this.layoutRight.style.width = `calc(100% - ${LeftWidth+8}px)`\n      }\n    }\n  }\n  mouseMoveUp = () => {\n    this.moving = false\n    this.moveStartX = null\n    this.layoutLeftWidth = null\n    this.layoutRightWidth = null\n    window.removeEventListener('mousemove',this.moveLayoutLeftRightWidth)\n  }\n}\n\n\nexport default LeftnavRightContent"]},"metadata":{},"sourceType":"module"}